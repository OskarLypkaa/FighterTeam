<h2 class="section-title">Grafik treningów</h2>

<!-- wrapper centruje i ogranicza szerokość -->
<div class="schedule-wrap">
    <!-- tło zdjęcia jest podpięte bezpośrednio do .schedule -->
    <div class="schedule theme-dark" [style.--slot-px.px]="slotPx" [style.--schedule-bg]="'url(/assets/images/boxing_bag.png)'">

        <!-- Nagłówek -->
        <div class="header">
            <div class="corner"></div>
            @for (d of days; track d.index) {
            <div class="day-head">{{ d.label }}</div>
            }
        </div>

        <!-- Ciało: godziny + dni -->
        <div class="body">
            <div class="times" [style.height.px]="dayHeightPx">
                @for (h of hours; track h) { <div class="hour">{{ h }}:00</div> }
            </div>

            <div class="days">
                @for (d of days; track d.index) {
                <div class="day-column" [style.height.px]="dayHeightPx">
                    @for (ev of eventsByDay[d.index]; track ev.id) {
                    <div class="event" [style.top.%]="timeToOffsetPct(ev.start)"
                        [style.height.%]="durationPct(ev.start, ev.end)" [style.--ev]="ev.color || '#ff3b6a'">
                        <div class="title">{{ ev.title }}</div>
                        <div class="time">{{ ev.start }}–{{ ev.end }}</div>
                    </div>
                    }
                </div>
                }
            </div>
        </div>
    </div>
</div>