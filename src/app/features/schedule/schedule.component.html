<div class="schedule" [style.--slot-px.px]="slotPx">
    <!-- Nagłówek: pusty róg + 7 dni -->
    <div class="header">
        <div class="corner"></div>
        @for (d of days; track d.index) {
        <div class="day-head">{{ d.label }}</div>
        }
    </div>

    <!-- Ciało: kolumna godzin + 7 kolumn dni -->
    <div class="body">
        <!-- Kolumna godzin -->
        <div class="times" [style.height.px]="dayHeightPx">
            @for (h of hours; track h) {
            <div class="hour">{{ h }}:00</div>
            }
        </div>

        <!-- Kolumny dni -->
        <div class="days">
            @for (d of days; track d.index) {
            <div class="day-column" [style.height.px]="dayHeightPx">
                @for (ev of eventsByDay[d.index]; track ev.id) {
                <div class="event" [style.top.%]="timeToOffsetPct(ev.start)" [style.height.%]="durationPct(ev.start, ev.end)"
                    [style.--ev]="ev.color || '#ff3b6a'">
                    <div class="title">{{ ev.title }}</div>
                    <div class="time">{{ ev.start }}–{{ ev.end }}</div>
                </div>
                }
            </div>
            }
        </div>
    </div>
</div>